# Процессы внутри контейнера

Давайте создадим и запустим контейнер, зайдём в него, выполним несколько операций и посмотрим на результат.  

## Создадим контейнер
```bash
docker run -dit --name test_cont busybox:latest
```  
**Разбор команды**:  
- `docker run` — основная команда для создания и запуска контейнера  
- `-d` (detach) — запуск контейнера в фоновом режиме  
- `-i` (interactive) — сохранение STDIN открытым, даже если не подключен  
- `-t` (tty) — выделение псевдо-TTY (терминала для выходных данных)  
- `--name test_cont` — присвоение имени контейнеру "test_cont"  
- `busybox:latest` — используемый образ (минималистичный Linux-образ)    

## Зайдём в контейнер
Чтобы попасть внутрь контейнера, используем команду `exec`:  
```bash
docker exec -i -t test_cont sh
/ # видим приглашение на ввод команд
```
**Разбор команды**:  
- `docker exec` — команда для выполнения команды внутри запущенного контейнера  
- `-i` (interactive) — сохраняет STDIN открытым для ввода  
- `-t` (tty) — выделяет псевдо-терминал  
- `test_cont` — имя целевого контейнера  
- `sh` — команда для выполнения (shell — командная оболочка)  

Поскольку `busybox` — это минималистичный образ среды Linux, мы можем выполнять команды CLI. Например:

```bash
/ # pwd  # определим своё местоположение
/
/ # ls   # взгляд на список файлов и папок
bin    dev    etc    home   lib    lib64  proc   root   sys    tmp    usr    var
/ # mkdir test  # создадим тестовую директорию
/ # ls          # убедимся, что директория создана
bin    dev    etc    home   lib    lib64  proc   root   sys    test   tmp    usr    var
/ # cd test     # перейдём в тестовую директорию
/test # touch test       # создадим в ней файл
/test # echo Hello > test # запишем в файл строку
/test # cat test         # посмотрим содержимое
Hello
```
<br>

Рассмотрим также пример с PostgreSQL:
 
```shell
docker exec -it postgres psql -U postgres  
```  
**Разбор команды**:  
- `docker exec` — выполнение команды внутри запущенного контейнера  
- `-i` (interactive) — сохраняет STDIN открытым  
- `-t` (tty) — выделяет псевдо-терминал  
- `postgres` — имя целевого контейнера 
- `psql` — запуск клиента PostgreSQL внутри контейнера   
- `-U postgres` — аутентификация под пользователем `postgres` 

```shell
postgres=# select 1 + 1 as result;  -- проверка работы SQL
 result
----------
        2
(1 row)

postgres=# \q  -- выход
```
