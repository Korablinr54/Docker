# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Docker

–ù–∞ –ø—Ä–∏–º–µ—Ä–µ –æ–±—Ä–∞–∑–∞ postgres –≤—ã–ø–æ–ª–Ω–∏–º –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∞ —Ç–∞–∫–∂–µ –∑–∞–π–¥–µ–º –≤–Ω—É—Ç—Ä—å —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å psql.  

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
```bash
docker --version
# –≤–µ—Ä–Ω–µ—Ç: Docker version 28.3.3, build 980b856
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:    
```bash
docker run --name postgres -e POSTGRES_PASSWORD=postgres -d -p 5432:5432 postgres
a52264c28d2018d488a33e5dbdc3a0ed3309f0549da69f29aedac27437ff15bf
```  
–≥–¥–µ:  
| –ê—Ç—Ä–∏–±—É—Ç | –ü—Ä–∏–º–µ—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|--------|----------|
| `docker run` | | –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| `--name` | `--name postgres` | –ó–∞–¥–∞—ë—Ç –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ) |
| `-e` | `-e POSTGRES_PASSWORD=postgres` | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| `POSTGRES_PASSWORD` | `-e POSTGRES_PASSWORD=postgres` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è PostgreSQL (–ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è postgres) |
| `-d` | `-d` | –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (detached) |
| `-p` | `-p 5432:5432` | –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ (—Ö–æ—Å—Ç:–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä) |
| `postgres` | `postgres:latest` | –ò–º—è –æ–±—Ä–∞–∑–∞ Docker Hub (–º–æ–∂–Ω–æ —Å —Ç–µ–≥–æ–º: `postgres:15`) |  

–ó–∞–ø—É—Å—Ç–∏–º –¥—Ä—É–≥–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker run -d -i --tty --name alpine alpine:latest
```  
–≥–¥–µ:  
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| `docker run` |  –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| `-d` –∏–ª–∏ `--detach`|   –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ |
| `-i` –∏–ª–∏ `--interactive`|   –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| `-t` –∏–ª–∏ `--tty`|   –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–ª—è –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª, –∫–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ. |

# tags
## run - tag
–ö–æ–º–∞–Ω–¥–∞ `docker run` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö `tag`, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥–≤–æ–µ—Ç–æ—á–∏–µ `:`. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Å—É—Å—Ç–≤—É–µ—Ç –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, docker –ø—Ä–æ–≤–µ—Ä–∏—Ç –µ–≥–æ –Ω–∞–ª–∏—á–∏–µ, –Ω–µ –Ω–∞–π–¥–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –Ω–∞ docker hub, —á—Ç–æ–±—ã –µ–≥–æ —Å–∫–∞—á–∞—Ç—å.  
```bash
docker run redis
```  
–¢–∞–∫ –º—ã –ø–æ–ª—É—á–∏–º –≤–µ—Ä—Å–∏—é `latest`, —Ç.–µ. –ø–æ—Å–ª–µ–¥–Ω—é—é. –ù–æ, —á—Ç–æ –µ—Å–ª–∏ –º–Ω–µ –Ω—É–∂–Ω–∞ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω—è—è –∞ –∫–∞–∫–∞—è-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è? –ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ–≥ —á–µ—Ä–µ–∑ –¥–≤–æ–µ—Ç–æ—á–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:  
```bash
docker run redis:5
```  
–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ–≥–æ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —É–∫–∞–∑–∞–Ω –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ docker hub. –¢–∞–∫ –µ—Å–ª–∏ –º—ã –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–≥, —Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ–≥ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `latest`.

## –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ -d
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (detach mode) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–ª–∞–≥ `-d`.
```bash
docker run -d alpine
```  
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `-d`**:  
* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ  
* –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Ç–æ–ª—å–∫–æ ID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤–º–µ—Å—Ç–æ –µ–≥–æ –≤—ã–≤–æ–¥–∞  
* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ñ–æ–Ω–µ  

## docker attach id –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –≤–∞—à —Ç–µ—Ä–º–∏–Ω–∞–ª –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø–æ—Ç–æ–∫–∞–º (stdin, stdout, stderr) –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  
–°–∏–Ω—Ç–∞–∫—Å–∏—Å:  
```bash
docker attach [OPTIONS] <CONTAINER>
```
–ü—Ä–∏–º–µ—Ä:
```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Ñ–æ–Ω–µ
docker run -d --name my_alpine alpine sh -c "while true; do echo 'Working...'; sleep 2; done"

# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –Ω–µ–º—É
docker attach my_alpine
# –í—ã —É–≤–∏–¥–∏—Ç–µ: Working... Working... Working...
```

## run -it
–ö–æ–º–±–∏–Ω–∞—Ü–∏—è `docker run -it` ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö –∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ —Ä–∞–±–æ—Ç–µ —Å Docker.  
`-i` (--interactive) - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º, –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤–≤–æ–¥ —Å –≤–∞—à–µ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.  
`-t` (--tty) - –≤—ã–¥–µ–ª—è–µ—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.  

–ü—Ä–∏ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–∏ —Ñ–ª–∞–≥–∏ —Å–æ–∑–¥–∞—é—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é —Å–µ—Å—Å–∏—é —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º:  
```bash
docker run -it python:3.9 python # –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ Python
```  
**–í—ã—Ö–æ–¥ –∏–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞**  
–ß—Ç–æ–±—ã –≤—ã–π—Ç–∏ –∏–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:  
–ù–∞–∂–º–∏—Ç–µ `Ctrl+P` –∑–∞—Ç–µ–º `Ctrl+Q`   

<br>

–ß—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:  
–ù–∞–∂–º–∏—Ç–µ `Ctrl+D` –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ `exit`

## –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ -p
–§–ª–∞–≥ `-p` (–∏–ª–∏ --publish) ‚Äî –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Docker, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–≤—è–∑–∞—Ç—å –ø–æ—Ä—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –ø–æ—Ä—Ç–∞–º–∏ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º—ã.   
**–°–∏–Ω—Ç–∞–∫—Å–∏—Å**: 
`docker run -p [HOST_PORT]:[CONTAINER_PORT] [image]`  
```bash
docker run -p 8080:80 nginx
```
–¢–µ–ø–µ—Ä—å Nginx –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `http://localhost:8080`  
üëâ –í—ã –æ–±—Ä–∞—â–∞–µ—Ç–µ—Å—å –∫ `localhost:8080`  
üëâ Docker –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `80` –ø–æ—Ä—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞  

–•–æ—Å—Ç-–ø–æ—Ä—Ç (–ª–µ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä) —è–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø—Ä–∞–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä) –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —ç–∫—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –ø–æ—Ä—Ç—É –æ–±—Ä–∞–∑–∞, —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.  

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑:

–õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø: `http://localhost:8080`  

## –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–º–æ–≤ -v

–§–ª–∞–≥ `-v` (–∏–ª–∏ --volume) –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–º–æ–≤ ‚Äî –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ–±–º–µ–Ω–∞ —Ñ–∞–π–ª–∞–º–∏ –º–µ–∂–¥—É —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–æ–π –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º.  

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å**: 
```bash 
docker run -v [HOST_PATH]:[CONTAINER_PATH] [IMAGE]
```  

–ü—Ä–∏–º–µ—Ä:  
```bash
docker run -v d:/nginx.conf:/etc/nginx/nginx.conf -p 80:80 nginx
```