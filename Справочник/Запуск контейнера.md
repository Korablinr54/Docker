# Запуск контейнера Docker

На примере образа postgres выполним запуск контейнера, а также зайдем внутрь чтобы запустить psql.  

Для начала запустим контейнер:    
```bash
docker run --name postgres -e POSTGRES_PASSWORD=postgres -d -p 5432:5432 postgres
a52264c28d2018d488a33e5dbdc3a0ed3309f0549da69f29aedac27437ff15bf
```  
где:  
| Атрибут | Пример | Значение |
|----------|--------|----------|
| `docker run` | | Основная команда для создания и запуска нового контейнера |
| `--name` | `--name postgres` | Задаёт имя контейнера (вместо автоматически сгенерированного) |
| `-e` | `-e POSTGRES_PASSWORD=postgres` | Устанавливает переменные окружения |
| `POSTGRES_PASSWORD` | `-e POSTGRES_PASSWORD=postgres` | Обязательная переменная для PostgreSQL (пароль пользователя postgres) |
| `-d` | `-d` | Запуск контейнера в фоновом режиме (detached) |
| `-p` | `-p 5432:5432` | Проброс портов (хост:контейнер) |
| `postgres` | `postgres:latest` | Имя образа Docker Hub (можно с тегом: `postgres:15`) |

# Проверка состояния контейнера
Теперь проверим состояние нашего контейнера:  
```shell
docker ps
CONTAINER ID   IMAGE      COMMAND                  CREATED          STATUS          PORTS                    NAMES
a52264c28d20   postgres   "docker-entrypoint.s…"   21 minutes ago   Up 21 minutes   0.0.0.0:5432->5432/tcp   postgres
```  

где:  
| Атрибут         | Пример       | Значение |
|----------------|-----------------------|----------|
| `CONTAINER ID` | `a52264c28d20`        | Уникальный идентификатор контейнера (первые 12 символов полного ID) |
| `IMAGE`        | `postgres`            | Название Docker-образа, из которого создан контейнер |
| `COMMAND`      | `"docker-entrypoint.s…"` | Главная команда, выполняемая в контейнере (сокращённый вид) |
| `CREATED`      | `21 minutes ago`      | Время с момента создания контейнера |
| `STATUS`       | `Up 21 minutes`       | Текущее состояние: `Up` - работает, `Exited` - остановлен |
| `PORTS`        | `0.0.0.0:5432->5432/tcp` | Проброс портов (хост:контейнер) и используемый протокол |
| `NAMES`        | `postgres`            | Человекочитаемое имя контейнера |  

# Зайдем в контейнер
Теперь зайдем в контейнер чтобы запусть psql  
```shell
docker exec -it postgres psql -U postgres  
```  
где:  
| Атрибут          | Значение |
|-----------------------|----------|
| `docker exec`         | Основная команда для выполнения процесса в работающем контейнере |
| `-iе` или `--interactive` | Поддержка интерактивного режима (позволяет вводить команды) |
| `postgres`           | Имя целевого контейнера (должен быть запущен) |
| `psql`               | Команда для запуска клиента PostgreSQL внутри контейнера |
| `-U postgres`        | Аутентификация под пользователем `postgres` (по умолчанию в PostgreSQL) |

# Проверка psql и выход из контейнера
```shell
postgres=# select 1 + 1; # проверка работы sql
 ?column?
----------
        2
(1 row)

postgres=# \q # команда выхода из контейнера
```